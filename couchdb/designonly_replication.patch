diff -Nru apache-couchdb-0.10.0/src/couchdb/couch_rep.erl apache-couchdb-0.10.0.work/src/couchdb/couch_rep.erl
--- apache-couchdb-0.10.0/src/couchdb/couch_rep.erl	2009-09-25 17:51:12.000000000 -0700
+++ apache-couchdb-0.10.0.work/src/couchdb/couch_rep.erl	2009-10-17 13:09:53.000000000 -0700
@@ -28,6 +28,7 @@
     source,
     target,
     continuous,
+    designonly,
     init_args,
     checkpoint_scheduled = nil,
 
@@ -102,6 +103,7 @@
     TargetProps = proplists:get_value(<<"target">>, PostProps),
 
     Continuous = proplists:get_value(<<"continuous">>, PostProps, false),
+    DesignOnly = proplists:get_value(<<"designonly">>, PostProps, false),
 
     Source = open_db(SourceProps, UserCtx),
     Target = open_db(TargetProps, UserCtx),
@@ -143,6 +145,7 @@
         source = Source,
         target = Target,
         continuous = Continuous,
+        designonly = DesignOnly,
         init_args = InitArgs,
         stats = Stats,
         checkpoint_scheduled = nil,
@@ -388,7 +391,13 @@
     false ->
         ""
     end,
-    {Base, Extension}.
+    Extension2 = case proplists:get_value(<<"designonly">>, Props, false) of
+    true ->
+        "+designonly";
+    false ->
+        ""
+    end,
+    {Base, Extension ++ Extension2}.
 
 maybe_add_trailing_slash(Url) ->
     re:replace(Url, "[^/]$", "&/", [{return, list}]).
diff -Nru apache-couchdb-0.10.0/src/couchdb/couch_rep_reader.erl apache-couchdb-0.10.0.work/src/couchdb/couch_rep_reader.erl
--- apache-couchdb-0.10.0/src/couchdb/couch_rep_reader.erl	2009-10-05 22:47:27.000000000 -0700
+++ apache-couchdb-0.10.0.work/src/couchdb/couch_rep_reader.erl	2009-10-17 13:20:00.000000000 -0700
@@ -49,7 +49,7 @@
 next(Pid) ->
     gen_server:call(Pid, next_docs, infinity).
 
-init([Parent, Source, MissingRevs, _PostProps]) ->
+init([Parent, Source, MissingRevs, PostProps]) ->
     process_flag(trap_exit, true),
     if is_record(Source, http_db) ->
         #url{host=Host, port=Port} = ibrowse_lib:parse_url(Source#http_db.url),
@@ -57,7 +57,7 @@
         ibrowse:set_max_pipeline_size(Host, Port, ?MAX_PIPELINE_SIZE);
     true -> ok end,
     Self = self(),
-    ReaderLoop = spawn_link(fun() -> reader_loop(Self, Source, MissingRevs) end),
+    ReaderLoop = spawn_link(fun() -> reader_loop(Self, Source, MissingRevs, proplists:get_value(<<"designonly">>, PostProps, false)) end),
     State = #state{
         parent = Parent,
         source = Source,
@@ -234,7 +234,7 @@
     end,
     [Transform(Result) || Result <- JsonResults].
 
-reader_loop(ReaderServer, Source, MissingRevsServer) ->
+reader_loop(ReaderServer, Source, MissingRevsServer, DesignOnly) ->
     case couch_rep_missing_revs:next(MissingRevsServer) of
     complete ->
         exit(complete);
@@ -247,16 +247,25 @@
         #http_db{} ->
             [gen_server:call(ReaderServer, {open_remote_doc, Id, Seq, Revs},
                 infinity) || {Id,Seq,Revs} <- SortedIdsRevs],
-            reader_loop(ReaderServer, Source, MissingRevsServer);
+            reader_loop(ReaderServer, Source, MissingRevsServer, DesignOnly);
         _Local ->
             Source2 = maybe_reopen_db(Source, HighSeq),
             lists:foreach(fun({Id,Seq,Revs}) ->
                 {ok, Docs} = couch_db:open_doc_revs(Source2, Id, Revs, [latest]),
                 JustTheDocs = [Doc || {ok, Doc} <- Docs],
-                gen_server:call(ReaderServer, {add_docs, Seq, JustTheDocs},
+                FilteredDocs = case DesignOnly of
+                    true ->
+                        StartKey = <<"_design/">>,
+                        EndKey = <<"_design/",255>>,
+                        [CurDoc || CurDoc = {doc, Key, _, _, _, _, _} <- JustTheDocs, Key >= StartKey, Key < EndKey];
+                    false ->
+                        % otherwise sync all docs
+                        JustTheDocs
+                end,
+                gen_server:call(ReaderServer, {add_docs, Seq, FilteredDocs},
                     infinity)
             end, SortedIdsRevs),
-            reader_loop(ReaderServer, Source2, MissingRevsServer)
+            reader_loop(ReaderServer, Source2, MissingRevsServer, DesignOnly)
         end
     end.
